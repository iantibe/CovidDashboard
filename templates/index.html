<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Covid Dashboard</title>

<style>
    body {
        background-color: cadetblue;
    }

    #buttons {
        display: flex;
        margin-left: auto;
        margin-right: auto;
        justify-content: space-around;
        align-items: center;
    }
    .items {
        border-style: solid;
        border-width: thin;
        width: 400px;
        height: 75px;
        display: flex;
        flex-direction: column;
        padding: 15px;
        align-items: center;
        justify-content: center;
        text-align: center;


    }

    #response {
        margin-top: 50px;
        margin-left: auto;
        margin-right: auto;
        border-style: solid;
        border-width: thin;
        min-height: 500px;
    }

    #content {
        width: 95%;
        margin-left: auto;
        margin-right: auto;
    }

    #title {
        margin-left: auto;
        margin-right: auto;
        text-align: center;
    }

    .items h2{
        margin-top: 0;

    }

</style>
    <script>

        function get_search_data_for_country(){

            var url = "/searchcountry/Oman/2020-12-12"
            var xhttp = new XMLHttpRequest();
         xhttp.onreadystatechange = function() {
         if (this.readyState == 4 && this.status == 200) {
            var data = null
            data = this.responseText;
            objectdata = JSON.parse(data)

           console.log(objectdata)
             document.querySelector('#dateforcounrydisplay').innerHTML = "link to date on page"
             document.querySelector('#countryforcountrydisplay').innerHTML = "link to country display"
             document.querySelector('#deathsforcountrydisplay').innerHTML = objectdata["deaths"]
             document.querySelector('#casesforcountrydisplay').innerHTML = objectdata["cases"]
           }
         };
           xhttp.open("GET", url, true);
           xhttp.send();


        }

        function get_serchdata_for_state() {

            var url = "/searchstate/Iowa/2020-12-12"

            var xhttp = new XMLHttpRequest();
         xhttp.onreadystatechange = function() {
         if (this.readyState == 4 && this.status == 200) {
            var data = null
            data = this.responseText;
            objectdata = JSON.parse(data)

           console.log(objectdata)

             document.querySelector('#dateforstatedisplay').innerHTML = "link to date on page"
             document.querySelector('#stateforstatedisplay').innerHTML = "link to country display"
             document.querySelector('#deathsforstatedisplay').innerHTML = objectdata["deaths"]
             document.querySelector('#casesforstatedisplay').innerHTML = objectdata["cases"]
           }
         };
           xhttp.open("GET", url, true);
           xhttp.send();
        }

        function get_data_forstate_restrict(){
            lookupstate = document.querySelector('#location').value
            console.log(lookupstate)
             var xhttp = new XMLHttpRequest();
         xhttp.onreadystatechange = function() {
         if (this.readyState == 4 && this.status == 200) {
            var data = null
            data = this.responseText;
            objectdata = JSON.parse(data)

            document.querySelector('#gatheringdisplay').innerHTML = objectdata["gather"]
            document.querySelector('#noessentialdisplay').innerHTML = objectdata["nonessentialbus"]
            document.querySelector('#resturantdisplay').innerHTML = objectdata["resturant"]
            document.querySelector('#sourcedisplay').innerHTML = objectdata["source"]
    }
  };
  xhttp.open("GET", "/state/" + lookupstate, true);
  xhttp.send();

       }

    </script>
</head>
<body>
<h1 id="title">Covid Dashboard</h1>

<div id="content">
    <div id="buttons">
        <div class="items">
            <h2>Load Data</h2>
            <input type="button" value="Click to Load Newest Data"/>
        </div>
        <div class="items">
            <h2>Show Restrictions for each state</h2>
            <div>
                <label for="location">Input State Code</label>
                <input type="text" id="location">
                <input type="button" onclick="get_data_forstate_restrict()" value="test">
            </div>
        </div>
        <div class="items">
            <h2>Search State data</h2>
            <div>
                <label for="location">Input State Code</label>
                <input type="text" id="location">
                <input type="button" onclick="get_serchdata_for_state()" value="test">
            </div>
        </div>
        <div class="items">
            <h2>Search Country data</h2>
            <div>
                <label for="location">Input Country</label>
                <input type="text" id="location">
                <input type="button" onclick="get_search_data_for_country()" value="test">
            </div>
        </div>

    </div>

    <div id="response">
            <div>
                <p>Resturant Restriction<span id="resturantdisplay"></span></p>
                <p>Gathering Restriction<span id="gatheringdisplay"></span></p>
                <p>Non-essential business restrict<span id="noessentialdisplay"></span></p>
                <p>source:<span id="sourcedisplay"></span></p>

            </div>

            <div id="displaystatedata">
                <p>State<span id="stateforstatedisplay"></span></p>
                <p>Date<span id="dateforstatedisplay"></span></p>
                <p>Cases<span id="casesforstatedisplay"></span></p>
                <p>Deaths<span id="deathsforstatedisplay"></span></p>
            </div>

            <div id="displaycountrydata">
                <p>Country<span id="countryforcountrydisplay"></span></p>
                <p>Date<span id="dateforcounrydisplay"></span></p>
                <p>Cases<span id="casesforcountrydisplay"></span></p>
                <p>Deaths<span id="deathsforcountrydisplay"></span></p>
            </div>

    </div>
</div>

</body>
</html>